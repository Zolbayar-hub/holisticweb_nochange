<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if posts %}Wellness & AI Blog{% else %}}Blog{% endif %} - Serenity Wellness Studio</title>
    <meta name="description" content="Explore the intersection of AI, wellness, and mindfulness. Expert insights on meditation, holistic health, and technology's role in personal growth.">
    <link rel="stylesheet" href="{{ url_for('blog.static', filename='blog.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <header class="blog-header">
        <div class="container">
            <nav class="blog-nav">
                <a href="/" class="home-link">‚Üê Back to Home</a>
                <div class="nav-right">
                    <!-- Therapy & Services Mega Menu -->
                    <div class="mega-menu" id="therapyMenu">
                        <button class="mega-menu-trigger" onclick="toggleMegaMenu()">
                            Therapy & Services <span id="menuArrow">‚ñº</span>
                        </button>
                        <div class="mega-menu-dropdown">
                            <div class="mega-menu-content">
                                <div class="mega-menu-section">
                                    <div class="section-header">
                                        <span class="section-icon">üé≠</span>
                                        <h3 class="section-title">Therapeutic Sessions</h3>
                                    </div>
                                    <p class="section-description">Explore various therapeutic approaches to restore balance and promote deep healing.</p>
                                    <ul class="service-list">
                                        <li class="service-item"><a href="#" class="service-link">Sound Healing Therapy</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Private Meditation Session</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Guided Breathwork Therapy</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Deep Relaxation Session</a></li>
                                    </ul>
                                </div>
                                
                                <div class="mega-menu-section">
                                    <div class="section-header">
                                        <span class="section-icon">‚ö°</span>
                                        <h3 class="section-title">Energy Work</h3>
                                    </div>
                                    <p class="section-description">Discover the power of energy healing through chakra balancing and stress release.</p>
                                    <ul class="service-list">
                                        <li class="service-item"><a href="#" class="service-link">Chakra Balancing</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Stress Release Practice</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Nervous System Reset</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Sleep Support Session</a></li>
                                    </ul>
                                </div>
                                
                                <div class="mega-menu-section">
                                    <div class="section-header">
                                        <span class="section-icon">üë•</span>
                                        <h3 class="section-title">Group Experiences</h3>
                                    </div>
                                    <p class="section-description">Join community healing through group sessions and transformative events.</p>
                                    <ul class="service-list">
                                        <li class="service-item"><a href="#" class="service-link">Group Sound Bath</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Workshops & Classes</a></li>
                                        <li class="service-item"><a href="#" class="service-link">Events & Retreats</a></li>
                                    </ul>
                                </div>
                                
                                <div class="mega-menu-section benefits-section">
                                    <div class="section-header">
                                        <span class="section-icon">‚ú®</span>
                                        <h3 class="section-title">Benefits</h3>
                                    </div>
                                    <p class="section-description">Experience profound benefits for your mind, body, and spirit.</p>
                                    <ul class="benefits-list">
                                        <li class="benefit-item">Stress Relief</li>
                                        <li class="benefit-item">Emotional Wellness</li>
                                        <li class="benefit-item">Better Sleep</li>
                                        <li class="benefit-item">Energy Balance</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <form class="search-form" action="{{ url_for('blog.search') }}" method="GET">
                        <input type="text" name="q" placeholder="Search articles..." class="search-input">
                        <button type="submit" class="search-btn">üîç</button>
                    </form>
                </div>
            </nav>
            
            <div class="hero-section">
                <h1 class="blog-title">Wellness & AI Insights</h1>
                <p class="blog-subtitle">Where ancient wisdom meets modern technology</p>
            </div>
        </div>
    </header>

    <main class="blog-main">
        <div class="container">
            <!-- Category Navigation -->
            <nav class="category-nav">
                <a href="{{ url_for('blog.posts_by_category', category='therapeutic-sessions') }}" class="category-link">
                    <span class="category-icon">üé≠</span>
                    Therapeutic Sessions
                </a>
                <a href="{{ url_for('blog.posts_by_category', category='energy-work') }}" class="category-link">
                    <span class="category-icon">‚ö°</span>
                    Energy Work
                </a>
                <a href="{{ url_for('blog.posts_by_category', category='group-experiences') }}" class="category-link">
                    <span class="category-icon">üë•</span>
                    Group Experiences
                </a>
                <a href="{{ url_for('blog.posts_by_category', category='wellness-benefits') }}" class="category-link">
                    <span class="category-icon">‚ú®</span>
                    Wellness Benefits
                </a>
            </nav>
            
            {% if posts %}
                <div class="posts-grid">
                    {% for post in posts %}
                        <article class="post-card">
                            <div class="post-image" data-category="{{ post.category if post.category else 'default' }}">
                                {% if post.featured_image %}
                                    <img src="{{ url_for('blog.static', filename='images/' + post.featured_image) }}" 
                                         alt="{{ post.title }}" 
                                         onerror="this.style.display='none'; this.parentElement.classList.add('no-image');">
                                {% else %}
                                    <div class="placeholder-image">
                                        <span class="placeholder-icon">{{ categories[post.category].icon if post.category in categories else 'üìù' }}</span>
                                        <span class="placeholder-text">{{ categories[post.category].name if post.category in categories else 'Blog Post' }}</span>
                                    </div>
                                {% endif %}
                                <div class="post-tags">
                                    {% for tag in post.tags[:2] %}
                                        <a href="{{ url_for('blog.posts_by_tag', tag=tag) }}" class="tag">{{ tag }}</a>
                                    {% endfor %}
                                </div>
                            </div>
                            
                            <div class="post-content">
                                <div class="post-meta">
                                    <span class="author">{{ post.author }}</span>
                                    <span class="date">{{ moment(post.published_date).format('MMM DD, YYYY') if moment else post.published_date }}</span>
                                    <span class="read-time">{{ post.read_time }} min read</span>
                                </div>
                                
                                <h2 class="post-title">
                                    <a href="{{ url_for('blog.post_detail', slug=post.slug) }}">{{ post.title }}</a>
                                </h2>
                                
                                <p class="post-excerpt">{{ post.excerpt }}</p>
                                
                                <a href="{{ url_for('blog.post_detail', slug=post.slug) }}" class="read-more">
                                    Read Article ‚Üí
                                </a>
                            </div>
                        </article>
                    {% endfor %}
                </div>
            {% else %}
                <div class="empty-state">
                    <h2>No articles found</h2>
                    <p>We're working on bringing you fresh insights. Check back soon!</p>
                </div>
            {% endif %}
        </div>
    </main>

    <footer class="blog-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Popular Tags</h3>
                    <div class="tag-cloud">
                        <a href="{{ url_for('blog.posts_by_tag', tag='AI') }}" class="tag">AI</a>
                        <a href="{{ url_for('blog.posts_by_tag', tag='Wellness') }}" class="tag">Wellness</a>
                        <a href="{{ url_for('blog.posts_by_tag', tag='Mindfulness') }}" class="tag">Mindfulness</a>
                        <a href="{{ url_for('blog.posts_by_tag', tag='Meditation') }}" class="tag">Meditation</a>
                        <a href="{{ url_for('blog.posts_by_tag', tag='Technology') }}" class="tag">Technology</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Stay Updated</h3>
                    <p>Get the latest insights on wellness, AI, and mindfulness delivered to your inbox.</p>
                    <div class="newsletter-signup">
                        <input type="email" placeholder="Your email address" class="email-input">
                        <button class="subscribe-btn">Subscribe</button>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Serenity Wellness Studio. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        function toggleMegaMenu() {
            const menu = document.getElementById('therapyMenu');
            const arrow = document.getElementById('menuArrow');
            
            menu.classList.toggle('active');
            arrow.textContent = menu.classList.contains('active') ? '‚ñ≤' : '‚ñº';
        }

        // Close mega menu when clicking outside
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('therapyMenu');
            if (!menu.contains(e.target)) {
                menu.classList.remove('active');
                document.getElementById('menuArrow').textContent = '‚ñº';
            }
        });
    </script>
</body>
</html>
